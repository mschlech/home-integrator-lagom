#
#
play.crypto.secret = whatever
play.http.secret.key="changeme"
play.http.secret.key=${?APPLICATION_SECRET}
play.application.loader = de.softwareschmied.homeintegratorlagom.impl.HomeintegratorlagomLoader

home-integrator-lagom.cassandra.keyspace = home_integrator_lagom

cassandra-journal.keyspace = ${home-integrator-lagom.cassandra.keyspace}
cassandra-snapshot-store.keyspace = ${home-integrator-lagom.cassandra.keyspace}
lagom.persistence.read-side.cassandra.keyspace = ${home-integrator-lagom.cassandra.keyspace}

cassandra.default {
  ## list the contact points  here
  contact-points = ["10.244.2.5"]
  ## override Lagomâ€™s ServiceLocator-based ConfigSessionProvider
  session-provider = akka.persistence.cassandra.ConfigSessionProvider
}

cassandra-journal {
  contact-points = ${cassandra.default.contact-points}
  session-provider = ${cassandra.default.session-provider}
}

cassandra-snapshot-store {
  contact-points = ${cassandra.default.contact-points}
  session-provider = ${cassandra.default.session-provider}
}

lagom.persistence.read-side.cassandra {
  contact-points = ${cassandra.default.contact-points}
  session-provider = ${cassandra.default.session-provider}
}

service-locator-dns {
  name-translators = [
    {
      "^_.+$" = "$0",
      "^.*$" = "_http-lagom-api._tcp.$0.default.svc.cluster.local"
    }
  ]

  srv-translators = [
    {
      "^_http-lagom-api[.]_tcp[.](.+)$" = "_http-lagom-api._http.$1",
      "^.*$" = "$0"
    }
  ]
}
